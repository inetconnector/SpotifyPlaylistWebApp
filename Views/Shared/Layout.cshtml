@using System.Globalization
@using Microsoft.Extensions.Localization
@using SpotifyPlaylistWebApp
@inject IStringLocalizer<SharedResource> L
<!DOCTYPE html>
<html lang="@CultureInfo.CurrentUICulture.TwoLetterISOLanguageName">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>@ViewData["Title"] - @L["Layout_TitleSuffix"]</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true"/>
    <style>
        body {
            background: radial-gradient(circle at top left, #0f2027, #203a43, #2c5364);
            color: #fff;
            font-family: system-ui, sans-serif;
            margin: 0;
        }

        main {
            max-width: 1000px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }
    </style>
</head>
<body>
<partial name="GlobalHeader" />
<main role="main" class="pb-3">
    @RenderBody()
</main>

<partial name="Footer" />

<div id="toast-root" style="position:fixed; top:20px; left:50%; transform:translateX(-50%); z-index:9999;"></div>
<script>
function showToast(message, type){
    var root = document.getElementById('toast-root');
    var toast = document.createElement('div');
    toast.textContent = message;
    toast.style.padding = '12px 16px';
    toast.style.marginTop = '8px';
    toast.style.borderRadius = '10px';
    toast.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
    toast.style.transition = 'all 0.3s ease';
    toast.style.opacity = '0.95';
    toast.style.backdropFilter = 'blur(6px)';
    toast.style.border = '1px solid rgba(255,255,255,0.12)';
    toast.style.color = '#fff';
    toast.style.background = type === 'error' ? 'rgba(239,68,68,0.9)' :
                             type === 'info' ? 'rgba(59,130,246,0.9)' :
                             'rgba(16,185,129,0.9)';
    root.appendChild(toast);
    setTimeout(() => { toast.style.opacity = '0'; toast.style.transform = 'translateY(-6px)'; }, 2600);
    setTimeout(() => { root.removeChild(toast); }, 3000);
}
// TempData bridge
</script>

@await RenderSectionAsync("Scripts", required: false)
</body>
</html>
